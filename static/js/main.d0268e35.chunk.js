(this["webpackJsonpuser-auth-react-app-2"]=this["webpackJsonpuser-auth-react-app-2"]||[]).push([[0],{60:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(31),r=c.n(a),s=c(10),o=c(3),j=c(12),u=c(2),i=c(0),l=function(e){return Object(i.jsx)("div",{})},h=c(6),b=c.n(h),d=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),j=Object(o.a)(s,2),u=j[0],l=j[1],h=Object(n.useState)(""),d=Object(o.a)(h,2),O=d[0],p=d[1],x=function(e){"username"===e.target.name?r(e.target.value):"email"===e.target.name?l(e.target.value):"password"===e.target.name&&p(e.target.value)};return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Register with us"}),Object(i.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={username:a,email:u,password:O};b.a.post("https://dct-user-auth.herokuapp.com/users/register",c).then((function(t){var c=t.data;c.hasOwnProperty("errors")?alert(c.errors):(console.log("success"),e.history.push("/login"))})).catch((function(e){console.log(e.message)}))},children:[Object(i.jsx)("input",{type:"text",placeholder:"enter username",value:a,onChange:x,name:"username"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"email",placeholder:"enter email",value:u,onChange:x,name:"email"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"password",placeholder:"enter password",value:O,onChange:x,name:"password"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"submit",value:"Register"})]})]})},O=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),j=Object(o.a)(s,2),u=j[0],l=j[1],h=function(e){"email"===e.target.name?r(e.target.value):"password"===e.target.name&&l(e.target.value)};return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Login"}),Object(i.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={email:a,password:u};b.a.post("https://dct-user-auth.herokuapp.com/users/login",c).then((function(t){var c=t.data;c.hasOwnProperty("errors")?alert(c.errors):(alert("success"),localStorage.setItem("token",c.token),e.history.push("/"),e.handleAuth())})).catch((function(e){console.log(e.message)}))},children:[Object(i.jsx)("input",{type:"email",placeholder:"enter email",value:a,onChange:h,name:"email"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"password",placeholder:"enter password",value:u,onChange:h,name:"password"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"submit",value:"Login"})]})]})},p=function(e){var t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){b.a.get("http://dct-user-auth.herokuapp.com/users/account",{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){var t=e.data;r(t)})).catch((function(e){return[console.log(e)]}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"userAccount"}),Object(i.jsxs)("p",{children:["Email - ",a.email]}),Object(i.jsxs)("p",{children:["Username -",a.username]})]})},x=c(14),g=c.n(x),m=function(e){var t=e.selected,c=Object(n.useState)(""),a=Object(o.a)(c,2),r=a[0],s=a[1];return b.a.get("https://dct-user-auth.herokuapp.com/api/notes/".concat(t),{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){var t=e.data;s(t)})),g()(r.title,r.body)},v=function(e){var t=e.every,c=e.handleEvery,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],h=r[1],d=Object(n.useState)(""),O=Object(o.a)(d,2),p=O[0];O[1];Object(n.useEffect)((function(){b.a.get("https://dct-user-auth.herokuapp.com/api/notes",{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){console.log("errrr",e.data),h(e.data)}))}),[t]);return Object(i.jsx)("div",{children:0===l.length?Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"No quotes found"}),Object(i.jsx)("p",{children:"Add your first quote"})]}):Object(i.jsxs)("div",{children:[Object(i.jsxs)("h1",{children:["My Notes-",l.length]}),l.map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsxs)(s.b,{onClick:function(){g()(e.title,e.body)},children:[Object(i.jsx)("p",{children:e.title}),Object(i.jsx)("p",{children:e.body})]})," ",Object(i.jsx)("button",{onClick:function(){var t;t=e._id,window.confirm("are you sure?")&&b.a.delete("https://dct-user-auth.herokuapp.com/api/notes/".concat(t),{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){console.log(e.data),c(e.data)}))},children:" delete"}),Object(i.jsx)("hr",{})]},e._id)})),Object(i.jsx)(u.a,{path:"/note/yo",render:function(e){return Object(i.jsx)(m,Object(j.a)(Object(j.a)({},e),{},{selected:p}))}})]})})},f=function(e){var t=e.handleEvery,c=Object(n.useState)(""),a=Object(o.a)(c,2),r=a[0],s=a[1],j=Object(n.useState)(""),u=Object(o.a)(j,2),l=u[0],h=u[1];return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={title:r,body:l};b.a.post("https://dct-user-auth.herokuapp.com/api/notes",c,{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){alert("completed"),t(e.data)})).catch((function(e){alert(e.message)})),s(""),h("")},children:[Object(i.jsx)("label",{children:"Name"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",onChange:function(e){s(e.target.value)},value:r}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Body"}),Object(i.jsx)("br",{}),Object(i.jsx)("textarea",{value:l,onChange:function(e){h(e.target.value)}}),Object(i.jsx)("input",{type:"submit",value:"save"})]})})},y=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],r=c[1],s=function(e){r(e)};return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"NoteContainer"}),Object(i.jsx)(v,{every:a,handleEvery:s}),Object(i.jsx)(f,{handleEvery:s})]})},S=Object(u.e)((function(e){var t=e.userLoggedIn,c=e.handleAuth;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(s.b,{to:"/",children:"Home"})}),t?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("li",{children:Object(i.jsx)(s.b,{to:"/account",children:"Account"})}),Object(i.jsx)("li",{children:Object(i.jsx)(s.b,{to:"/note",children:"My Notes"})}),Object(i.jsx)("li",{children:Object(i.jsx)(s.b,{onClick:function(){localStorage.removeItem("token"),alert("successfully logged out"),c(),e.history.push("/")},children:"Logout "})})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("li",{children:Object(i.jsx)(s.b,{to:"/Register",children:"Register"})}),Object(i.jsx)("li",{children:Object(i.jsx)(s.b,{to:"/Login",children:"Login"})})]})]}),Object(i.jsx)(u.a,{path:"/",component:l,exact:!0}),Object(i.jsx)(u.a,{path:"/Register",component:d}),Object(i.jsx)(u.a,{path:"/Login",render:function(e){return Object(i.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{handleAuth:c}))}}),Object(i.jsx)(u.a,{path:"/account",component:p}),Object(i.jsx)(u.a,{path:"/note",component:y})]})})),k=function(e){var t=Object(n.useState)(!1),c=Object(o.a)(t,2),a=c[0],r=c[1],s=function(){r(!a)};return Object(n.useEffect)((function(){localStorage.getItem("token")&&s()}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"User-auth"}),Object(i.jsx)(S,{userLoggedIn:a,handleAuth:s})]})};r.a.render(Object(i.jsx)(s.a,{children:Object(i.jsx)(k,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.d0268e35.chunk.js.map